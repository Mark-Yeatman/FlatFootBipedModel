function Ke = KE_func(in1,in2)
%KE_FUNC
%    KE = KE_FUNC(IN1,IN2)

%    This function was generated by the Symbolic Math Toolbox version 8.3.
%    31-Jan-2020 14:49:40

%Prosthesis file. Needs state and parameters as inputs
Mf = in2(:,3);
Ms = in2(:,2);
Mt = in2(:,1);
la = in2(:,6);
lf = in2(:,7);
ls = in2(:,5);
lt = in2(:,4);
x3 = in1(3,:);
x4 = in1(4,:);
x5 = in1(5,:);
x6 = in1(6,:);
x7 = in1(7,:);
x8 = in1(8,:);
x9 = in1(9,:);
x10 = in1(10,:);
t2 = cos(x3);
t3 = cos(x4);
t4 = cos(x5);
t5 = sin(x3);
t6 = sin(x4);
t7 = sin(x5);
t8 = x3+x4;
t9 = x4+x5;
t10 = lt.^2;
t20 = -lf;
t24 = la./2.0;
t25 = ls./2.0;
t11 = t2.^2;
t12 = t5.^2;
t13 = ls.*t4;
t14 = lt.*t3;
t15 = cos(t8);
t16 = cos(t9);
t17 = sin(t8);
t18 = sin(t9);
t19 = t8+x5;
t23 = ls.*t7.*4.0;
t35 = (Mt.*lt.*t5)./2.0;
t39 = (Mt.*lt.*t2)./2.0;
t21 = cos(t19);
t22 = sin(t19);
t26 = t15.^2;
t27 = t17.^2;
t28 = lt.*t16;
t29 = -t23;
t30 = Mt.*t11;
t31 = Mt.*t12;
t33 = lt.*t18.*4.0;
t42 = Ms.*lt.*t6.*t15;
t43 = Ms.*lt.*t6.*t17;
t44 = Ms.*t15.*t25;
t45 = t13+t24;
t46 = t14+t25;
t47 = Ms.*t17.*t25;
t32 = t21.^2;
t34 = t22.^2;
t36 = lf+t29;
t37 = Ms.*t26;
t38 = Ms.*t27;
t48 = Mf.*t21.*t24;
t49 = (Mf.*lf.*t21)./4.0;
t50 = Mf.*t22.*t24;
t51 = (Mf.*lf.*t22)./4.0;
t52 = -t42;
t55 = Ms.*t15.*t46;
t56 = Ms.*t17.*t46;
t57 = t28+t45;
t58 = Mf.*t24.*t45;
t59 = Ms.*t25.*t46;
t60 = t20+t23+t33;
t61 = Mf.*t21.*t45;
t62 = Mf.*t22.*t45;
t40 = Mf.*t32;
t41 = Mf.*t34;
t53 = -t51;
t54 = (Mf.*lf.*t36)./1.6e+1;
t63 = (Mf.*t21.*t36)./4.0;
t64 = (Mf.*t22.*t36)./4.0;
t66 = Mf.*t24.*t57;
t67 = Mf.*t21.*t57;
t68 = Mf.*t22.*t57;
t69 = t49+t50;
t70 = (Mf.*lf.*t60)./1.6e+1;
t73 = (Mf.*t21.*t60)./4.0;
t74 = (Mf.*t22.*t60)./4.0;
t76 = Mf.*t45.*t57;
t77 = (Mf.*t36.*t60)./1.6e+1;
t65 = -t64;
t71 = t48+t53;
t72 = -t70;
t75 = -t73;
t78 = -t77;
t79 = t54+t58;
t80 = t47+t62+t63;
t82 = t30+t31+t37+t38+t40+t41;
t85 = t39+t43+t55+t67+t74;
t81 = t44+t61+t65;
t83 = t66+t72;
t84 = t59+t76+t78;
t86 = t35+t52+t56+t68+t75;
Ke = (x9.*(t80.*x7+t81.*x6+t79.*x10+t84.*x8+x9.*((Ms.*ls.^2)./4.0+(Mf.*t36.^2)./1.6e+1+Mf.*t45.^2)))./2.0+(x8.*(-x10.*(t70-(Mf.*la.*t57)./2.0)+t85.*x6+t84.*x9+t86.*x7+x8.*((Mt.*t10)./4.0+Mf.*t57.^2+(Mf.*t60.^2)./1.6e+1+Ms.*t46.^2+Ms.*t6.^2.*t10)))./2.0+(x6.*(t71.*x10+t82.*x6+t81.*x9+t85.*x8))./2.0+(x7.*(t69.*x10+t80.*x9+t82.*x7+t86.*x8))./2.0+(x10.*(x10.*((Mf.*la.^2)./4.0+(Mf.*lf.^2)./1.6e+1)-x8.*(t70-(Mf.*la.*t57)./2.0)+t69.*x7+t71.*x6+t79.*x9))./2.0;
end