LCurved=(la.^2+ls.^2+lt.^2+R.^2+2.*la.*ls.*cos(x(4))+2.*ls.*lt.*cos(x(5))+2.*la.*lt.*cos(x(4)+x(5))+(-2).*la.*R.*sin(phi)+(-2).*ls.*R.*sin(phi+(-1).*x(4))+(-2).*lt.*R.*sin(phi+(-1).*x(4)+(-1).*x(5))).^(1/2);
