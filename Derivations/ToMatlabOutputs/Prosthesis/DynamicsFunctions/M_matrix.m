M=[Mf.*cos(x(3)).^2+Ms.*cos(x(3)+x(4)).^2+Mh.*cos(x(3)+x(4)+x(5)).^2+Mt.*cos(x(3)+x(4)+x(5)).^2+Mf.*sin(x(3)).^2+Ms.*sin(x(3)+x(4)).^2+Mh.*sin(x(3)+x(4)+x(5)).^2+Mt.*sin(x(3)+x(4)+x(5)).^2,0,(-1/2).*la.*Mf.*cos(x(3))+Ms.*((-1/2).*ls+(-1).*la.*cos(x(4))).*cos(x(3)+x(4))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*cos(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*cos(x(3)+x(4)+x(5))+(-1).*la.*Ms.*sin(x(4)).*sin(x(3)+x(4))+(-1).*Mh.*(ls.*sin(x(5))+la.*sin(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+(-1).*Mt.*(ls.*sin(x(5))+la.*sin(x(4)+x(5))).*sin(x(3)+x(4)+x(5)),(-1/2).*ls.*Ms.*cos(x(3)+x(4))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).*cos(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).*cos(x(3)+x(4)+x(5))+(-1).*ls.*Mh.*sin(x(5)).*sin(x(3)+x(4)+x(5))+(-1).*ls.*Mt.*sin(x(5)).*sin(x(3)+x(4)+x(5)),(-1).*lt.*Mh.*cos(x(3)+x(4)+x(5))+(-1/2).*lt.*Mt.*cos(x(3)+x(4)+x(5));0,Mf.*cos(x(3)).^2+Ms.*cos(x(3)+x(4)).^2+Mh.*cos(x(3)+x(4)+x(5)).^2+Mt.*cos(x(3)+x(4)+x(5)).^2+Mf.*sin(x(3)).^2+Ms.*sin(x(3)+x(4)).^2+Mh.*sin(x(3)+x(4)+x(5)).^2+Mt.*sin(x(3)+x(4)+x(5)).^2,(-1/2).*la.*Mf.*sin(x(3))+la.*Ms.*cos(x(3)+x(4)).*sin(x(4))+Ms.*((-1/2).*ls+(-1).*la.*cos(x(4))).*sin(x(3)+x(4))+Mh.*cos(x(3)+x(4)+x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5)))+Mt.*cos(x(3)+x(4)+x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5)))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*sin(x(3)+x(4)+x(5)),(-1/2).*ls.*Ms.*sin(x(3)+x(4))+ls.*Mh.*cos(x(3)+x(4)+x(5)).*sin(x(5))+ls.*Mt.*cos(x(3)+x(4)+x(5)).*sin(x(5))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).*sin(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).*sin(x(3)+x(4)+x(5)),(-1).*lt.*Mh.*sin(x(3)+x(4)+x(5))+(-1/2).*lt.*Mt.*sin(x(3)+x(4)+x(5));(-1/2).*la.*Mf.*cos(x(3))+Ms.*((-1/2).*ls+(-1).*la.*cos(x(4))).*cos(x(3)+x(4))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*cos(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*cos(x(3)+x(4)+x(5))+(-1).*la.*Ms.*sin(x(4)).*sin(x(3)+x(4))+(-1).*Mh.*(ls.*sin(x(5))+la.*sin(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+(-1).*Mt.*(ls.*sin(x(5))+la.*sin(x(4)+x(5))).*sin(x(3)+x(4)+x(5)),(-1/2).*la.*Mf.*sin(x(3))+la.*Ms.*cos(x(3)+x(4)).*sin(x(4))+Ms.*((-1/2).*ls+(-1).*la.*cos(x(4))).*sin(x(3)+x(4))+Mh.*cos(x(3)+x(4)+x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5)))+Mt.*cos(x(3)+x(4)+x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5)))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).*sin(x(3)+x(4)+x(5)),Ihz+Isz+Itz+(1/4).*la.^2.*Mf+Ms.*((-1/2).*ls+(-1).*la.*cos(x(4))).^2+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).^2+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))).^2+la.^2.*Ms.*sin(x(4)).^2+Mh.*(ls.*sin(x(5))+la.*sin(x(4)+x(5))).^2+Mt.*(ls.*sin(x(5))+la.*sin(x(4)+x(5))).^2,Ihz+Isz+Itz+(-1/2).*ls.*Ms.*((-1/2).*ls+(-1).*la.*cos(x(4)))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)))+ls.*Mh.*sin(x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5)))+ls.*Mt.*sin(x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5))),Ihz+Itz+(-1).*lt.*Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)))+(-1/2).*lt.*Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)));(-1/2).*ls.*Ms.*cos(x(3)+x(4))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).*cos(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).*cos(x(3)+x(4)+x(5))+(-1).*ls.*Mh.*sin(x(5)).*sin(x(3)+x(4)+x(5))+(-1).*ls.*Mt.*sin(x(5)).*sin(x(3)+x(4)+x(5)),(-1/2).*ls.*Ms.*sin(x(3)+x(4))+ls.*Mh.*cos(x(3)+x(4)+x(5)).*sin(x(5))+ls.*Mt.*cos(x(3)+x(4)+x(5)).*sin(x(5))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).*sin(x(3)+x(4)+x(5))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).*sin(x(3)+x(4)+x(5)),Ihz+Isz+Itz+(-1/2).*ls.*Ms.*((-1/2).*ls+(-1).*la.*cos(x(4)))+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)))+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)))+ls.*Mh.*sin(x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5)))+ls.*Mt.*sin(x(5)).*(ls.*sin(x(5))+la.*sin(x(4)+x(5))),Ihz+Isz+Itz+(1/4).*ls.^2.*Ms+Mh.*((-1).*lt+(-1).*ls.*cos(x(5))).^2+Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))).^2+ls.^2.*Mh.*sin(x(5)).^2+ls.^2.*Mt.*sin(x(5)).^2,Ihz+Itz+(-1).*lt.*Mh.*((-1).*lt+(-1).*ls.*cos(x(5)))+(-1/2).*lt.*Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5)));(-1).*lt.*Mh.*cos(x(3)+x(4)+x(5))+(-1/2).*lt.*Mt.*cos(x(3)+x(4)+x(5)),(-1).*lt.*Mh.*sin(x(3)+x(4)+x(5))+(-1/2).*lt.*Mt.*sin(x(3)+x(4)+x(5)),Ihz+Itz+(-1).*lt.*Mh.*((-1).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5)))+(-1/2).*lt.*Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))+(-1).*la.*cos(x(4)+x(5))),Ihz+Itz+(-1).*lt.*Mh.*((-1).*lt+(-1).*ls.*cos(x(5)))+(-1/2).*lt.*Mt.*((-1/2).*lt+(-1).*ls.*cos(x(5))),Ihz+Itz+lt.^2.*Mh+(1/4).*lt.^2.*Mt];
