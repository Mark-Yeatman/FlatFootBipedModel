M=[Ms.*cos(x(3)).^2+Mh.*cos(x(3)+x(4)).^2+Mt.*cos(x(3)+x(4)).^2+Mt.*cos(x(3)+x(4)+x(5)).^2+Ms.*cos(x(3)+x(4)+x(5)+x(6)).^2+Ms.*sin(x(3)).^2+Mh.*sin(x(3)+x(4)).^2+Mt.*sin(x(3)+x(4)).^2+Mt.*sin(x(3)+x(4)+x(5)).^2+Ms.*sin(x(3)+x(4)+x(5)+x(6)).^2,0,(-1).*Ms.*rs.*cos(x(3))+Mh.*((-1).*lt+(-1).*ls.*cos(x(4))).*cos(x(3)+x(4))+Mt.*((-1).*rt+(-1).*ls.*cos(x(4))).*cos(x(3)+x(4))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5))).*cos(x(3)+x(4)+x(5))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6))).*cos(x(3)+x(4)+x(5)+x(6))+(-1).*ls.*Mh.*sin(x(4)).*sin(x(3)+x(4))+(-1).*ls.*Mt.*sin(x(4)).*sin(x(3)+x(4))+(-1).*Mt.*(lt.*sin(x(5))+ls.*sin(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+(-1).*Ms.*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),(-1).*lt.*Mh.*cos(x(3)+x(4))+(-1).*Mt.*rt.*cos(x(3)+x(4))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).*cos(x(3)+x(4)+x(5))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).*cos(x(3)+x(4)+x(5)+x(6))+(-1).*lt.*Mt.*sin(x(5)).*sin(x(3)+x(4)+x(5))+(-1).*lt.*Ms.*((-1).*sin(x(6))+sin(x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),Mt.*(lt+(-1).*rt).*cos(x(3)+x(4)+x(5))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*cos(x(3)+x(4)+x(5)+x(6))+lt.*Ms.*sin(x(6)).*sin(x(3)+x(4)+x(5)+x(6)),Ms.*(ls+(-1).*rs).*cos(x(3)+x(4)+x(5)+x(6));0,Ms.*cos(x(3)).^2+Mh.*cos(x(3)+x(4)).^2+Mt.*cos(x(3)+x(4)).^2+Mt.*cos(x(3)+x(4)+x(5)).^2+Ms.*cos(x(3)+x(4)+x(5)+x(6)).^2+Ms.*sin(x(3)).^2+Mh.*sin(x(3)+x(4)).^2+Mt.*sin(x(3)+x(4)).^2+Mt.*sin(x(3)+x(4)+x(5)).^2+Ms.*sin(x(3)+x(4)+x(5)+x(6)).^2,(-1).*Ms.*rs.*sin(x(3))+ls.*Mh.*cos(x(3)+x(4)).*sin(x(4))+ls.*Mt.*cos(x(3)+x(4)).*sin(x(4))+Mh.*((-1).*lt+(-1).*ls.*cos(x(4))).*sin(x(3)+x(4))+Mt.*((-1).*rt+(-1).*ls.*cos(x(4))).*sin(x(3)+x(4))+Mt.*cos(x(3)+x(4)+x(5)).*(lt.*sin(x(5))+ls.*sin(x(4)+x(5)))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+Ms.*cos(x(3)+x(4)+x(5)+x(6)).*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),(-1).*lt.*Mh.*sin(x(3)+x(4))+(-1).*Mt.*rt.*sin(x(3)+x(4))+lt.*Mt.*cos(x(3)+x(4)+x(5)).*sin(x(5))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).*sin(x(3)+x(4)+x(5))+lt.*Ms.*cos(x(3)+x(4)+x(5)+x(6)).*((-1).*sin(x(6))+sin(x(5)+x(6)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),Mt.*(lt+(-1).*rt).*sin(x(3)+x(4)+x(5))+(-1).*lt.*Ms.*cos(x(3)+x(4)+x(5)+x(6)).*sin(x(6))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*sin(x(3)+x(4)+x(5)+x(6)),Ms.*(ls+(-1).*rs).*sin(x(3)+x(4)+x(5)+x(6));(-1).*Ms.*rs.*cos(x(3))+Mh.*((-1).*lt+(-1).*ls.*cos(x(4))).*cos(x(3)+x(4))+Mt.*((-1).*rt+(-1).*ls.*cos(x(4))).*cos(x(3)+x(4))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5))).*cos(x(3)+x(4)+x(5))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6))).*cos(x(3)+x(4)+x(5)+x(6))+(-1).*ls.*Mh.*sin(x(4)).*sin(x(3)+x(4))+(-1).*ls.*Mt.*sin(x(4)).*sin(x(3)+x(4))+(-1).*Mt.*(lt.*sin(x(5))+ls.*sin(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+(-1).*Ms.*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),(-1).*Ms.*rs.*sin(x(3))+ls.*Mh.*cos(x(3)+x(4)).*sin(x(4))+ls.*Mt.*cos(x(3)+x(4)).*sin(x(4))+Mh.*((-1).*lt+(-1).*ls.*cos(x(4))).*sin(x(3)+x(4))+Mt.*((-1).*rt+(-1).*ls.*cos(x(4))).*sin(x(3)+x(4))+Mt.*cos(x(3)+x(4)+x(5)).*(lt.*sin(x(5))+ls.*sin(x(4)+x(5)))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5))).*sin(x(3)+x(4)+x(5))+Ms.*cos(x(3)+x(4)+x(5)+x(6)).*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),2.*Isz+2.*Itz+Ms.*rs.^2+Mh.*((-1).*lt+(-1).*ls.*cos(x(4))).^2+Mt.*((-1).*rt+(-1).*ls.*cos(x(4))).^2+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5))).^2+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6))).^2+ls.^2.*Mh.*sin(x(4)).^2+ls.^2.*Mt.*sin(x(4)).^2+Mt.*(lt.*sin(x(5))+ls.*sin(x(4)+x(5))).^2+Ms.*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))).^2,Isz+2.*Itz+(-1).*lt.*Mh.*((-1).*lt+(-1).*ls.*cos(x(4)))+(-1).*Mt.*rt.*((-1).*rt+(-1).*ls.*cos(x(4)))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6)))+lt.*Mt.*sin(x(5)).*(lt.*sin(x(5))+ls.*sin(x(4)+x(5)))+lt.*Ms.*((-1).*sin(x(6))+sin(x(5)+x(6))).*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))),Isz+Itz+Mt.*(lt+(-1).*rt).*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6)))+(-1).*lt.*Ms.*sin(x(6)).*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))),Isz+Ms.*(ls+(-1).*rs).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6)));(-1).*lt.*Mh.*cos(x(3)+x(4))+(-1).*Mt.*rt.*cos(x(3)+x(4))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).*cos(x(3)+x(4)+x(5))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).*cos(x(3)+x(4)+x(5)+x(6))+(-1).*lt.*Mt.*sin(x(5)).*sin(x(3)+x(4)+x(5))+(-1).*lt.*Ms.*((-1).*sin(x(6))+sin(x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),(-1).*lt.*Mh.*sin(x(3)+x(4))+(-1).*Mt.*rt.*sin(x(3)+x(4))+lt.*Mt.*cos(x(3)+x(4)+x(5)).*sin(x(5))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).*sin(x(3)+x(4)+x(5))+lt.*Ms.*cos(x(3)+x(4)+x(5)+x(6)).*((-1).*sin(x(6))+sin(x(5)+x(6)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).*sin(x(3)+x(4)+x(5)+x(6)),Isz+2.*Itz+(-1).*lt.*Mh.*((-1).*lt+(-1).*ls.*cos(x(4)))+(-1).*Mt.*rt.*((-1).*rt+(-1).*ls.*cos(x(4)))+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6)))+lt.*Mt.*sin(x(5)).*(lt.*sin(x(5))+ls.*sin(x(4)+x(5)))+lt.*Ms.*((-1).*sin(x(6))+sin(x(5)+x(6))).*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))),Isz+2.*Itz+lt.^2.*Mh+Mt.*rt.^2+Mt.*(lt+(-1).*rt+(-1).*lt.*cos(x(5))).^2+Ms.*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))).^2+lt.^2.*Mt.*sin(x(5)).^2+lt.^2.*Ms.*((-1).*sin(x(6))+sin(x(5)+x(6))).^2,Isz+Itz+Mt.*(lt+(-1).*rt).*(lt+(-1).*rt+(-1).*lt.*cos(x(5)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6)))+(-1).*lt.^2.*Ms.*sin(x(6)).*((-1).*sin(x(6))+sin(x(5)+x(6))),Isz+Ms.*(ls+(-1).*rs).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6)));Mt.*(lt+(-1).*rt).*cos(x(3)+x(4)+x(5))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*cos(x(3)+x(4)+x(5)+x(6))+lt.*Ms.*sin(x(6)).*sin(x(3)+x(4)+x(5)+x(6)),Mt.*(lt+(-1).*rt).*sin(x(3)+x(4)+x(5))+(-1).*lt.*Ms.*cos(x(3)+x(4)+x(5)+x(6)).*sin(x(6))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*sin(x(3)+x(4)+x(5)+x(6)),Isz+Itz+Mt.*(lt+(-1).*rt).*(lt+(-1).*rt+(-1).*lt.*cos(x(5))+(-1).*ls.*cos(x(4)+x(5)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6)))+(-1).*lt.*Ms.*sin(x(6)).*((-1).*lt.*sin(x(6))+lt.*sin(x(5)+x(6))+ls.*sin(x(4)+x(5)+x(6))),Isz+Itz+Mt.*(lt+(-1).*rt).*(lt+(-1).*rt+(-1).*lt.*cos(x(5)))+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6)))+(-1).*lt.^2.*Ms.*sin(x(6)).*((-1).*sin(x(6))+sin(x(5)+x(6))),Isz+Itz+Mt.*(lt+(-1).*rt).^2+Ms.*(ls+(-1).*rs+lt.*cos(x(6))).^2+lt.^2.*Ms.*sin(x(6)).^2,Isz+Ms.*(ls+(-1).*rs).*(ls+(-1).*rs+lt.*cos(x(6)));Ms.*(ls+(-1).*rs).*cos(x(3)+x(4)+x(5)+x(6)),Ms.*(ls+(-1).*rs).*sin(x(3)+x(4)+x(5)+x(6)),Isz+Ms.*(ls+(-1).*rs).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))+(-1).*ls.*cos(x(4)+x(5)+x(6))),Isz+Ms.*(ls+(-1).*rs).*(ls+(-1).*rs+lt.*cos(x(6))+(-1).*lt.*cos(x(5)+x(6))),Isz+Ms.*(ls+(-1).*rs).*(ls+(-1).*rs+lt.*cos(x(6))),Isz+Ms.*(ls+(-1).*rs).^2];
